"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("date-fns"),r=require("date-fns/locale"),n={Visa:/^4[0-9]{12}(?:[0-9]{3})/,Mastercard:/^5[1-5][0-9]{14}/,Amex:/^3[47][0-9]{13}/,Diners:/^3(?:0[0-5]|[68][0-9])[0-9]{11}/,Discover:/^6(?:011|5[0-9]{2})[0-9]{12}/,Jcb:/^(?:2131|1800|35\d{3})\d{11}/,Elo:/^((((636368)|(438935)|(504175)|(451416)|(636297))\d{0,10})|((5067)|(4576)|(4011))\d{0,12})$/,Aura:/^(5078\d{2})(\d{2})(\d{11})$/,Hipercard:/^(606282\d{10}(\d{3})?)|(3841\d{15})$/,Confianca:/^(6079|9000)/};function o(e){return e.replace(/[^0-9]/g,"")}function a(e){return void 0===e&&(e="/"),new URL(e,"http://localhost").pathname}function c(e,t,r,n){return new(r||(r=Promise))((function(o,a){function c(e){try{u(n.next(e))}catch(e){a(e)}}function i(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,i)}u((n=n.apply(e,t||[])).next())}))}function i(e,t){var r,n,o,a,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,n=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}exports.calcPercentageOff=function(e,t){return(100*(e-t)/e).toFixed()},exports.calculateInstallmentPrice=function(e){var t=e.numberOfInstallments,r=e.listPrice,n=e.salePrice;return(n||r)/t},exports.calculateInstallmentsWithoutTax=function(e){var t=e.numberOfInstallments,r=e.listPrice,n=e.salePrice;return(n||r)/t},exports.cardFlags=n,exports.createCookie=function(e,t){var r=new Date;r.setTime(r.getTime()+31536e6),document.cookie="".concat(e,"=").concat(t,";expires=").concat(r.toUTCString(),";path=/")},exports.formatCNPJ=function(e){return e.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d)/,"$1-$2")},exports.formatCPF=function(e){return e.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1-$2")},exports.formatCelphoneNumber=function(e){return null==e?void 0:e.replace(/\D/g,"").replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3")},exports.formatForOnlyNumbers=o,exports.formatForOnlyText=function(e){return e.replace(/\d/g,"")},exports.formatIE=function(e){return e.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{7})(\d)/,"$1")},exports.formatName=function(e){return void 0===e&&(e=""),e.replace(/[&/\\#,+()$%:*?<>{}!@/_=|\n\r]/g,"")},exports.formatPrice=function(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)},exports.formatTelephoneNumber=function(e){return e.replace(/\D/g,"").replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3")},exports.formatToHiddenEmail=function(e){var t=e.split("@"),r=t[0],n=t[1],o=r.length,a="".concat(r[0],"*******").concat(r[o-1]);return"".concat(a,"@").concat(n)},exports.getAddressByCep=function(e){return c(this,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("https://viacep.com.br/ws/".concat(e,"/json/"),{method:"GET"})];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()];case 3:throw t=r.sent(),new Error("Failed to get address by cep: ".concat(t));case 4:return[2]}}))}))},exports.getCardFlag=function(e){for(var t in n)if(e.match(n[t]))return t.toLowerCase()},exports.getCardLastForDigits=function(e){return e.substring(e.length-4,e.length)},exports.getFormattedBirthdayDate=function(e){return e.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1/$2").replace(/(\d{2})(\d)/,"$1/$2").replace(/(\/\d{4})\d+?$/,"$1")},exports.getFormattedCVV=function(e){return void 0===e&&(e=""),e.replace(/\D/g,"").replace(/(\d{4})\d+?$/,"$1")},exports.getFormattedCardExpiration=function(e){return void 0===e&&(e=""),e.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1/$2").replace(/(\/\d{2})\d+?$/,"$1")},exports.getFormattedCardNumber=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=!1),((t?e.replace(/\s/g,"").replace(/.(?=.{4,}$)/g,"*"):e.replace(/\D/g,"")).match(/.{1,4}/g)||[]).slice(0,4).join(" ")},exports.getFormattedDate=function(e,n){return void 0===n&&(n="P"),t.format(e,n,{locale:r.ptBR})},exports.getSafePath=a,exports.hasLeastEightCharacters=function(e){return e.length>=8},exports.hasLeastNCharacters=function(e,t){return e.length>=t},exports.hasLowerCase=function(e){return/[a-z]/.test(e)},exports.hasNumber=function(e){return e.match(/([0-9])/)},exports.hasSpecialCharacters=function(e){return e.match(/([!, @, #, $, %, &, *])/)},exports.hasUpperCase=function(e){return/[A-Z]/.test(e)},exports.isValidCardNumber=function(e){var t=o(e);if(t.length<13)return!1;for(var r in n)if(t.match(n[r]))return!0;return!1},exports.isValidExpiryDate=function(e){var r=t.parse(e,"MM/yy",new Date);return t.isValid(r)&&r>=t.startOfMonth(new Date)},exports.moveArrayElement=function(e,t,r){var n=e[t];e.splice(t,1),e.splice(r,0,n)},exports.removeCookie=function(e){if(e){var t=new Date;document.cookie="".concat(e,";expires=").concat(t.toUTCString()),document.cookie="".concat(e,";expires=").concat(t.toUTCString(),";path=/");for(var r=document.location.hostname.split(".");r.length;){var n=r.join(".");document.cookie="".concat(e,";expires=").concat(t.toUTCString(),";domain=").concat(n),document.cookie="".concat(e,";path=/;expires=").concat(t.toUTCString(),";domain=").concat(n),r.shift()}}},exports.sort=function(e,t){void 0===e&&(e=[]);var r=function(e){return(e||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")};return e.sort((function(e,n){return r(e[t])>r(n[t])?1:-1}))},exports.useBaseUrl=function(){var t=e.useState(""),r=t[0],n=t[1],o=e.useState(""),a=o[0],c=o[1];return e.useEffect((function(){"undefined"!=typeof window&&(n("".concat(window.location.protocol,"//").concat(window.location.host)),c(window.location.href))}),[]),{baseUrl:r,url:a}},exports.useCurrentPage=function(){var t=e.useState(""),r=t[0],n=t[1];return e.useEffect((function(){window&&"undefined"!=typeof window&&n(window.location.pathname.replace("/",""))}),[]),r},exports.useParams=function(t){var r=e.useState(""),n=r[0],o=r[1];return e.useEffect((function(){if("undefined"!=typeof window&&void 0!==t){var e=new URLSearchParams(window.location.search).get(t);e&&o(e)}}),[t]),n},exports.useRedirectPath=function(t){void 0===t&&(t="home");var r=e.useState(""),n=r[0],o=r[1];e.useEffect((function(){var e=new URL(document.location.href).searchParams.get("dest");if(!e)return o(t);var r=a(decodeURIComponent(window.atob(e)));if("/"===r)return o(t);o(r)}),[t]);var c=e.useCallback((function(e,t){String(t).startsWith("/")||(t="/".concat(t));var r=new URL(e,"http://localhost");return r.searchParams.append("dest",window.btoa(encodeURIComponent(t))),"".concat(r.pathname).concat(r.search)}),[]);return{redirectPath:n,getPathWithRedirect:c}},exports.useShare=function(){return{handleShare:e.useCallback((function(e){return c(void 0,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,navigator.share(e)];case 1:return r.sent(),[3,3];case 2:throw t=r.sent(),new Error("Erro ao compartilhar. ".concat(t));case 3:return[2]}}))}))}),[])}},exports.uuid=function(e){for(var t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=r.length,o=0;o<e;o++)t+=r.charAt(Math.floor(Math.random()*n));return t};
//# sourceMappingURL=index.js.map
